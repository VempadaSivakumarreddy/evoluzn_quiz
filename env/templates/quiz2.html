<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Application</title>
    <link rel="stylesheet" type= "text/css" href="{{ url_for( 'static',filename='style2.css')}}" />
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"> -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous"> -->
    
        
    
</head>
<body>

  <header id="header">
    <!-- <img src="{{url_for('static', filename='images.png')}}" alt="siva"> -->
    <h1>Evoluzn</h1>
  <!-- <img src="images.jpg" class="logo" alt=""> -->
  <ul>
   
    
    <li><h1 class="col-2 timer" id="timer"> {{ timer }}s </h1></li>
  </ul>
  
</header>
    <!-- <h1>Quiz Application</h1>
    <form action="submitquiz" method="POST" id='new'>
        {% for question  in questions_list %}
        <h4 >
            {{question.question}}<br>
        <input type="radio" name="{{question.q_id}}" value="{{question.option1}}" id=demo>a.{{question.option1}}
        <input type="radio" name="{{question.q_id}}" value="{{question.option2}}" >b.{{question.option2}}
        <input type="radio" name="{{question.q_id}}" value="{{question.option3}}" >c.{{question.option3}}
        <input type="radio" name="{{question.q_id}}" value="{{question.option4}}" >d.{{question.option4}}
        
        {% endfor %}
    </h4>
        <br></br>
        
        <input type="submit" name="submitform" value="submit">
    </form>
    
    <h2 class="heading">Time Left</h2> -->
    <form action="submitquiz2" method="POST" id='new'>
       


    <div class="wrapper">
        <div class="quiz">

          
          <div class="quiz_header">
            <div class="quiz_user">
              <h4>Welcome! <span class="name"></span></h4>
            </div>

            
          </div>

         
          <div class="quiz_body">
            <div id="questions">
                {% for  question  in questions_list2 %}
          
                <h4 >
                  <h2>{{questions_list.index(question)+1}}. {{question.question}}<br></h2>
                <h3><input type="radio" name="{{question.q_id}}" value="{{question.option1}}" id=demo>a.{{question.option1}}</br>

                <input type="radio" name="{{question.q_id}}" value="{{question.option2}}" >b.{{question.option2}}</br>
                <input type="radio" name="{{question.q_id}}" value="{{question.option3}}" >c.{{question.option3}}</br>
                <input type="radio" name="{{question.q_id}}" value="{{question.option4}}" >d.{{question.option4}}</br></h3>
              </br>
                {% endfor %}
            </h4>
                <br></br>
                
                <!-- <input type="submit" name="submitform" value="submit"> -->
            </form>
  
            <button class="btn-next" onclick="next()">Submit</button>
          </div>
        </div>
      </div>

      <p  max="{{ timer }}" value="{{ timer }}" id="progressBar"></p>
   
    <script type="application/javascript">
        var text = "";


    var i;

    for (i = 1; i < 10; i = i + 1) {
        text += i + "<br>";
    }

document.getElementById("timer").innerHTML = text

        var timerCounter = 600//Exact time
        
        const timerElement = document.getElementById("timer");
        const progressBar = document.getElementById("progressBar")
        timerElement.innerText ="Time Left: "  +  timerCounter + "s";
        progressBar.value = timerCounter;
        progressBar.max = timerCounter

        const interval = setInterval(() => {
            if (timerCounter < 1) {
                // window.location.href = "{{ url_for('submitquiz') }}";
                // clearInterval(interval);
                
                window.setTimeout(function() {
                document.getElementById('new').submit();}, 0);
            }
            else{
                timerCounter = timerCounter-(1);
                timerCounter = timerCounter;
                timerElement.innerText = "Time Left: "  +  timerCounter + "s";
                progressBar.value = timerCounter;
            }

            
        },1000);
    </script>


    <!-- <script type="text/javascript">
      var timeoutHandle;
      function countdown(minutes, seconds) {
          function tick() {
              var counter = document.getElementById("timer");
              counter.innerHTML =
                  minutes.toString() + ":" + (seconds < 10 ? "0" : "") + String(seconds);
              seconds--;
              if (seconds >= 0) {
                  timeoutHandle = setTimeout(tick, 1000);
              } else {
                  if (minutes >= 1) {
                      // countdown(mins-1);   never reach “00″ issue solved:Contributed by Victor Streithorst
                      setTimeout(function () {
                          countdown(minutes - 1, 59);
                      }, 1000);
                  }
                  
              }
          }
          tick();
      }
  
      countdown(1, 30);
      
  </script> -->

</body>
</html>